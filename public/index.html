<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Tell browsers not to scale the viewport automatically -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simon HTML</title>
    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" type="text/css" href="assets/CSS/index.css">
    <script src="assets/Javascript/index.js"></script>
    <link rel="stylesheet" type="text/css" href="assets/CSS/hamburger.css" />
    <link rel="stylesheet" type="text/css" href="assets/CSS/header.css">
    <script src="assets/Javascript/hamburger.js"></script>


    <script>
      async function handleButtonClick(buttonId) {
        try {
          const response = await fetch(`/click/${buttonId}`, { method: 'POST' });
          const responseText = await response.text(); // Log the raw response content
          console.log('Raw server response:', responseText);
      
          // Check if the response has a valid JSON format before attempting to parse it
          if (responseText.trim().startsWith('{')) {
            const data = JSON.parse(responseText);
            console.log(data);
      
            // Update the click count on the HTML page
            const clickCountElement = document.getElementById(`clickCount${buttonId.slice(-1)}`);
            if (clickCountElement) {
              clickCountElement.textContent = data.clickCount;
            } else {
              console.error(`Element not found for clickCount${buttonId.slice(-1)}`);
            }
          } else {
            console.error('Invalid JSON format in the response:', responseText);
          }
        } catch (error) {
          console.error('Error:', error.message);
        }
      }
      
      
          document.getElementById('drinkButton1').addEventListener('click', () => handleButtonClick('drinkButton1'));
          document.getElementById('drinkButton2').addEventListener('click', () => handleButtonClick('drinkButton2'));
          document.getElementById('drinkButton3').addEventListener('click', () => handleButtonClick('drinkButton3'));
          document.getElementById('drinkButton4').addEventListener('click', () => handleButtonClick('drinkButton4'));
          document.getElementById('drinkButton5').addEventListener('click', () => handleButtonClick('drinkButton5'));
          document.getElementById('drinkButton6').addEventListener('click', () => handleButtonClick('drinkButton6'));
          document.getElementById('drinkButton7').addEventListener('click', () => handleButtonClick('drinkButton7'));
          document.getElementById('drinkButton8').addEventListener('click', () => handleButtonClick('drinkButton8'));
          document.getElementById('drinkButton9').addEventListener('click', () => handleButtonClick('drinkButton9'));
          document.getElementById('drinkButton10').addEventListener('click', () => handleButtonClick('drinkButton10'));
          document.getElementById('drinkButton11').addEventListener('click', () => handleButtonClick('drinkButton11'));
          document.getElementById('drinkButton12').addEventListener('click', () => handleButtonClick('drinkButton12'));
          document.getElementById('drinkButton13').addEventListener('click', () => handleButtonClick('drinkButton13'));
          document.getElementById('drinkButton14').addEventListener('click', () => handleButtonClick('drinkButton14'));
          document.getElementById('drinkButton15').addEventListener('click', () => handleButtonClick('drinkButton15'));
        </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>
